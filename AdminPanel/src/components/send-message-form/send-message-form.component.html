<div class="message-container">
  <h2>Send a Message</h2>
  <form>
    <div class="form-group">
      <label for="recipient">To:</label>
      <select id="recipient" name="recipient" [(ngModel)]="receiver">
        <option *ngFor="let user of users" [value]="user.email">
          <ng-container *ngIf="users === undefined; else users">
            <div>There is no user yet</div>
          </ng-container>
          <ng-template #users>
            <div>{{ user.username }}</div>
          </ng-template>
        </option>
      </select>
    </div>
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" #Title placeholder="Message title">
    </div>
    <div class="form-group">
      <label for="body">Message:</label>
      <textarea id="body" name="body" #Body placeholder="Write your message here"></textarea>
    </div>
    <div class="form-group">
      <button type="submit" (click)="sendMessageAsync(Title.value, Body.value)">Send</button>
    </div>
  </form>
</div>
